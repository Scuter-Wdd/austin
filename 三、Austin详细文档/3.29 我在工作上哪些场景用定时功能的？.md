等我工作了之后，我学到了一个新的名词「**分布式定时任务框架**」。等我踏入职场了以后，我才发现原来定时任务这么好使！

列举下我真实工作时使用定时任务的常见姿势：

**1**、动态创建定时任务**推送**运营类的消息（定时推送消息）

**2**、广告结算定时任务**扫表**找到对应的可结算记录（定时扫表更新状态）

**3**、每天定时更新数据记录（定时更新数据）


还很多人问我有没有用过**分布式事务**，我往往会回答：没有啊，我们都是**扫表**一把梭保证数据最终一致性的当然了，如果是面试的时候被问到，可以吹吹分布式事务。

实际上是怎么扫表的呢？就是**定时**扫的咯。

另外，我当时简单看了下公司自研的分布式定时任务框架是怎么做的，我记得是基于Quartz进行扩展的，扩展有failover、分片等等机制。

一般来说，使用定时任务就是在**应用启动**或者**提前在Web页面**配置好定时任务（定时任务框架都是支持cron表达式的，所以是周期或者定时的任务)，这种场景是最最最多的。
![image.png](https://cdn.nlark.com/yuque/0/2022/png/1285871/1649727244855-1c4c4ed0-7ecb-4c7e-a465-edb2046ea23b.png#averageHue=%23f1e8d1&clientId=u83314d66-b658-4&from=paste&id=uea0978c2&originHeight=162&originWidth=966&originalType=url&ratio=1&rotation=0&showTitle=false&size=85482&status=done&style=none&taskId=u9ab6db8b-7ad5-4ced-a97e-46871fbd9c3&title=)

